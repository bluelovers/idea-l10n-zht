<html>
<body>
報告有關錯誤使用的代理方法的警告。

Spring Framework 5.2 引入了對 @Configuration 類處理的最佳化，可以通過屬性 @Configuration(proxyBeanMethods = false) 啟用該最佳化。
<br><br>
如果您禁用
<pre><code>proxyBeanMethods</code></pre>
代理將不會被實例化，但您可以調用該方法並重新啟動它（每次都會返回一個新實例）。
因此，您無法保證您確實在上下文中注入了相應的 bean。
<!-- tooltip end -->
<br><br>
<strong>錯誤的 bean 方法調用範例：</strong><br><br>
<pre>
@Configuration(proxyBeanMethods = false)
class TestConfiguration {
  @Bean
  public FirstBean firstBean() {
    return new FirstBean();
  }

  @Bean
  public SecondBean secondBean() {
    return new SecondBean(firstBean()); // -> <strong>錯誤的調用</strong>
  }
}
</pre>
<br>

<hr>
<strong>您可以將
  <pre><code>proxyBeanMethods</code></pre>
  設定為 true 或覆寫程式碼如下：</strong><br><br>
<pre>
@Configuration(proxyBeanMethods = false)
class TestConfiguration {
  @Bean
  public FirstBean firstBean() {
    return new FirstBean();
  }

  @Bean
  public SecondBean secondBean(FirstBean someBean) { // -> <strong>正確的注入實例</strong>
    return new SecondBean(someBean);
  }
}
</pre>
<br>

<hr>
<strong>此外，檢查還會檢查沒有 @Configuration 構造型的類中的 @Bean 方法調用（在 “bean lite mode” 下）：</strong><br><br>
<pre>
@Component
class TestComponent {
  @Bean
  public FirstBean firstBean() {
    return new FirstBean();
  }

  @Bean
  public SecondBean secondBean() {
    return new SecondBean(firstBean()); // -> <strong>錯誤的調用</strong>
  }
}
</pre>

</body>
</html>